environment {
        // Define the dynamic path to the inventory folder within the workspace
        INVENTORY_PATH = "${env.WORKSPACE}/inventory"
    }

    // Define parameters upfront using properties(parameters)
    properties([
        parameters([
            choice(
                name: 'INVENTORY_FILE',
                choices: getInventoryFiles(),
                description: 'Select inventory file'
            ),
            choice(
                name: 'MODE',
                choices: ['Run Python Script', 'Run Ansible Playbook', 'Echo HelloWorld'],
                description: 'Select the mode to run'
            )
        ])
    ])
