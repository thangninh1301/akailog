[
            $class: 'ChoiceParameter',
            choiceType: 'PT_MULTI_SELECT', // Allow multiple selections for inventory files
            name: 'INVENTORY_FILE',
            script: [
                $class: 'GroovyScript',
                script: [
                    classpath: [],
                    sandbox: true,
                    script: '''
                    // Debugging step: print workspace path and files
                    def workspace = new File("${env.WORKSPACE}/inventory")
                    println "Workspace path: ${workspace.getAbsolutePath()}"
                    
                    if (!workspace.exists()) {
                        println "Inventory folder does not exist"
                        return ["Inventory folder not found"]
                    }

                    def inventoryFiles = []
                    def files = workspace.listFiles()

                    if (files == null || files.size() == 0) {
                        println "No files found in the inventory folder"
                        return ["No files found in inventory"]
                    }
                    
                    files.each { file ->
                        if (file.isFile()) {
                            println "Found inventory file: ${file.getName()}"
                            inventoryFiles.add(file.getName())
                        }
                    }

                    return inventoryFiles
                    '''
                ]
            ]
        ]
